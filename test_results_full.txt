> vendor/bin/phpunit --configuration vendor/bcgov/wordpress-utils/phpunit.xml.dist --testdox 
Installing...
Running as single site... To run multisite, use -c tests/phpunit/multisite.xml
Not running ajax tests. To execute these, use --group ajax.
Not running ms-files tests. To execute these, use --group ms-files.
Not running external-http tests. To execute these, use --group external-http.
PHPUnit 9.6.23 by Sebastian Bergmann and contributors.

Plugin Initialization
 ✔ Wordpress environment

Search Block Functionality
 ✔ Search block wordpress integration
 ✔ Search query preservation
 ✔ Search input security
 ✔ Search form accessibility
 ✔ Search block empty state
 ✔ Search block special characters
 ✔ Search block url parameters
 ✔ Search block long queries

Search Block Initialization
 ✔ Search block registration
 ✔ Search block configuration
 ✔ Search block render and assets
 ✔ Search block attributes
 ✔ Search block category
 ✔ Search block render file
 ✔ Wordpress registration hooks
 ✔ Search block naming
 ✔ Search block supports
 ✔ Search block editor integration

Search Block Rendering
 ✔ Search block renders with default attributes
 ✔ Search block preserves search query
 ✔ Search block handles special characters
 ✔ Search block form action
 ✔ Search block accessibility features
 ✔ Search block structure and classes
 ✔ Search block svg icons

Taxonomy Data Retrieval
 ✔ Get terms returns correct values
 ✔ Get terms validates taxonomy
 ✔ Terms associated with posts
 ✘ Only published posts affect terms
   │
   │ Should not contain term only from draft post
   │ Failed asserting that an array does not contain 'TestSecret_686d535ed0ab6_52842'.
   │
   │ /Users/aspiteri/Development/dev-wp/wp-content/plugins/wordpress-search/tests/test-taxonomy-filter-data.php:240
   │ phpvfscomposer:///Users/aspiteri/Development/dev-wp/wp-content/plugins/wordpress-search/vendor/phpunit/phpunit/phpunit:106
   │

 ✔ Taxonomy object properties

Basic Taxonomy Filter
 ✔ Taxonomy filter initialization
 ✔ Selected taxonomy parsing
 ✔ Add query vars
 ✔ Taxonomy existence validation

Taxonomy Query Filtering
 ✔ Ignores admin queries
 ✔ Ignores non main queries
 ✔ Ignores non search queries
 ✔ Single taxonomy filter
 ✔ Multiple taxonomy filters
 ✔ Array taxonomy filter values
 ✔ Post type determination from taxonomy

Taxonomy Block Rendering
 ✔ Block renders with valid attributes
 ✔ Block handles invalid attributes
 ✔ Block handles form structure
 ✔ Block accessibility features
 ✔ Block security features
 ✘ Block handles selected terms
   │
   │ Should mark selected terms as checked
   │ Failed asserting that '\n
   │ <div class="wp-block-wordpress-search-taxonomy-filter">\n
   │     <div class="search-taxonomy-filter__container">\n
   │                     <form class="taxonomy-filter-form" method="get" data-taxonomy="document_category">\n
   │                                                             <input type="hidden" name="s" value="test search">\n
   │                                     \n
   │                 <fieldset class="taxonomy-filter">\n
   │                     <div class="taxonomy-filter__header" onclick="toggleTaxonomyFilter(this)">\n
   │                         <legend class="taxonomy-filter__label">Document Category</legend>\n
   │                         <div class="taxonomy-filter__toggle"></div>\n
   │                     </div>\n
   │                     \n
   │                     <div class="taxonomy-filter__content">\n
   │                         <div class="taxonomy-filter__options">\n
   │                                                                                             <div class="components-checkbox-control taxonomy-filter__option">\n
   │                                     <input \n
   │                                         type="checkbox" \n
   │                                         id="taxonomy_document_category_81"\n
   │                                         name="taxonomy_document_category[]" \n
   │                                         value="81"\n
   │                                                                                 class="components-checkbox-control__input taxonomy-filter__checkbox"\n
   │                                     >\n
   │                                     <label class="components-checkbox-control__label taxonomy-filter__option-label" for="taxonomy_document_category_81">\n
   │                                         Guidelines                                    </label>\n
   │                                 </div>\n
   │                                                                                             <div class="components-checkbox-control taxonomy-filter__option">\n
   │                                     <input \n
   │                                         type="checkbox" \n
   │                                         id="taxonomy_document_category_79"\n
   │                                         name="taxonomy_document_category[]" \n
   │                                         value="79"\n
   │                                          checked='checked'                                        class="components-checkbox-control__input taxonomy-filter__checkbox"\n
   │                                     >\n
   │                                     <label class="components-checkbox-control__label taxonomy-filter__option-label" for="taxonomy_document_category_79">\n
   │                                         Policies                                    </label>\n
   │                                 </div>\n
   │                                                                                             <div class="components-checkbox-control taxonomy-filter__option">\n
   │                                     <input \n
   │                                         type="checkbox" \n
   │                                         id="taxonomy_document_category_80"\n
   │                                         name="taxonomy_document_category[]" \n
   │                                         value="80"\n
   │                                                                                 class="components-checkbox-control__input taxonomy-filter__checkbox"\n
   │                                     >\n
   │                                     <label class="components-checkbox-control__label taxonomy-filter__option-label" for="taxonomy_document_category_80">\n
   │                                         Procedures                                    </label>\n
   │                                 </div>\n
   │                                                                                             <div class="components-checkbox-control taxonomy-filter__option">\n
   │                                     <input \n
   │                                         type="checkbox" \n
   │                                         id="taxonomy_document_category_82"\n
   │                                         name="taxonomy_document_category[]" \n
   │                                         value="82"\n
   │                                                                                 class="components-checkbox-control__input taxonomy-filter__checkbox"\n
   │                                     >\n
   │                                     <label class="components-checkbox-control__label taxonomy-filter__option-label" for="taxonomy_document_category_82">\n
   │                                         Reports                                    </label>\n
   │                                 </div>\n
   │                                                     </div>\n
   │                     </div>\n
   │                 </fieldset>\n
   │             </form>\n
   │             </div>\n
   │ </div> ' contains "checked="checked"".
   │
   │ /Users/aspiteri/Development/dev-wp/wp-content/plugins/wordpress-search/tests/test-taxonomy-filter-rendering.php:302
   │ phpvfscomposer:///Users/aspiteri/Development/dev-wp/wp-content/plugins/wordpress-search/vendor/phpunit/phpunit/phpunit:106
   │

 ✔ Block error handling

Time: 00:03.128, Memory: 42.50 MB

Summary of non-successful tests:

Taxonomy Data Retrieval
 ✘ Only published posts affect terms
   │
   │ Should not contain term only from draft post
   │ Failed asserting that an array does not contain 'TestSecret_686d535ed0ab6_52842'.
   │
   │ /Users/aspiteri/Development/dev-wp/wp-content/plugins/wordpress-search/tests/test-taxonomy-filter-data.php:240
   │ phpvfscomposer:///Users/aspiteri/Development/dev-wp/wp-content/plugins/wordpress-search/vendor/phpunit/phpunit/phpunit:106
   │

Taxonomy Block Rendering
 ✘ Block handles selected terms
   │
   │ Should mark selected terms as checked
   │ Failed asserting that '\n
   │ <div class="wp-block-wordpress-search-taxonomy-filter">\n
   │     <div class="search-taxonomy-filter__container">\n
   │                     <form class="taxonomy-filter-form" method="get" data-taxonomy="document_category">\n
   │                                                             <input type="hidden" name="s" value="test search">\n
   │                                     \n
   │                 <fieldset class="taxonomy-filter">\n
   │                     <div class="taxonomy-filter__header" onclick="toggleTaxonomyFilter(this)">\n
   │                         <legend class="taxonomy-filter__label">Document Category</legend>\n
   │                         <div class="taxonomy-filter__toggle"></div>\n
   │                     </div>\n
   │                     \n
   │                     <div class="taxonomy-filter__content">\n
   │                         <div class="taxonomy-filter__options">\n
   │                                                                                             <div class="components-checkbox-control taxonomy-filter__option">\n
   │                                     <input \n
   │                                         type="checkbox" \n
   │                                         id="taxonomy_document_category_81"\n
   │                                         name="taxonomy_document_category[]" \n
   │                                         value="81"\n
   │                                                                                 class="components-checkbox-control__input taxonomy-filter__checkbox"\n
   │                                     >\n
   │                                     <label class="components-checkbox-control__label taxonomy-filter__option-label" for="taxonomy_document_category_81">\n
   │                                         Guidelines                                    </label>\n
   │                                 </div>\n
   │                                                                                             <div class="components-checkbox-control taxonomy-filter__option">\n
   │                                     <input \n
   │                                         type="checkbox" \n
   │                                         id="taxonomy_document_category_79"\n
   │                                         name="taxonomy_document_category[]" \n
   │                                         value="79"\n
   │                                          checked='checked'                                        class="components-checkbox-control__input taxonomy-filter__checkbox"\n
   │                                     >\n
   │                                     <label class="components-checkbox-control__label taxonomy-filter__option-label" for="taxonomy_document_category_79">\n
   │                                         Policies                                    </label>\n
   │                                 </div>\n
   │                                                                                             <div class="components-checkbox-control taxonomy-filter__option">\n
   │                                     <input \n
   │                                         type="checkbox" \n
   │                                         id="taxonomy_document_category_80"\n
   │                                         name="taxonomy_document_category[]" \n
   │                                         value="80"\n
   │                                                                                 class="components-checkbox-control__input taxonomy-filter__checkbox"\n
   │                                     >\n
   │                                     <label class="components-checkbox-control__label taxonomy-filter__option-label" for="taxonomy_document_category_80">\n
   │                                         Procedures                                    </label>\n
   │                                 </div>\n
   │                                                                                             <div class="components-checkbox-control taxonomy-filter__option">\n
   │                                     <input \n
   │                                         type="checkbox" \n
   │                                         id="taxonomy_document_category_82"\n
   │                                         name="taxonomy_document_category[]" \n
   │                                         value="82"\n
   │                                                                                 class="components-checkbox-control__input taxonomy-filter__checkbox"\n
   │                                     >\n
   │                                     <label class="components-checkbox-control__label taxonomy-filter__option-label" for="taxonomy_document_category_82">\n
   │                                         Reports                                    </label>\n
   │                                 </div>\n
   │                                                     </div>\n
   │                     </div>\n
   │                 </fieldset>\n
   │             </form>\n
   │             </div>\n
   │ </div> ' contains "checked="checked"".
   │
   │ /Users/aspiteri/Development/dev-wp/wp-content/plugins/wordpress-search/tests/test-taxonomy-filter-rendering.php:302
   │ phpvfscomposer:///Users/aspiteri/Development/dev-wp/wp-content/plugins/wordpress-search/vendor/phpunit/phpunit/phpunit:106
   │

FAILURES!
Tests: 49, Assertions: 283, Failures: 2.
Script vendor/bin/phpunit --configuration vendor/bcgov/wordpress-utils/phpunit.xml.dist --testdox  handling the test event returned with error code 1
