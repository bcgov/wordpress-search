(()=>{"use strict";const e=window.wp.blocks,s=window.wp.i18n,t=window.wp.data,r=window.wp.components,o=window.wp.blockEditor,n=window.ReactJSXRuntime,i=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"wordpress-search/search-taxonomy-filter","version":"1.0.0","title":"Taxonomy Filter","category":"search","icon":"filter","description":"A modular search taxonomy filter block that connects to the search page template","attributes":{"selectedTaxonomy":{"type":"string","default":""}},"editorScript":"file:./index.js","editorStyle":"file:./index.css","viewStyle":"file:./view.css","viewScript":"file:./view.js","render":"file:./render.php","style":"file:./view.css","dependencies":["wp-api-fetch","wp-url","wp-components","wp-element","wp-i18n"]}');(0,e.registerBlockType)(i.name,{...i,edit:function({attributes:e,setAttributes:i}){const{selectedTaxonomy:a}=e,{taxonomies:l}=(0,t.useSelect)((e=>{const{getTaxonomies:s}=e("core");return{taxonomies:s({per_page:-1,context:"view"})||[]}}),[]),c=[{label:(0,s.__)("Select a taxonomy…","wordpress-search"),value:""},...(l||[]).filter((e=>!!e&&!!e.name)).map((e=>{if(!e.types||0===e.types.length){const s=e.object_type||[];if(0===s.length)return null;e.types=s}const t=e.labels?.singular_name||e.name||(0,s.__)("Unknown","wordpress-search"),r=e.types[0];return{label:`${r.charAt(0).toUpperCase()+r.slice(1)}: ${t.charAt(0).toUpperCase()+t.slice(1)}`,value:`${e.types[0]}:${e.name}`}})).filter(Boolean)];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.InspectorControls,{children:(0,n.jsx)(r.PanelBody,{title:(0,s.__)("Taxonomy Filter Settings","wordpress-search"),initialOpen:!0,children:(0,n.jsx)(r.SelectControl,{label:(0,s.__)("Select Taxonomy","wordpress-search"),value:a,options:c,onChange:e=>{i({selectedTaxonomy:e})},help:(0,s.__)("Choose which taxonomy to use for filtering search results.","wordpress-search")})})}),(0,n.jsx)("div",{...(0,o.useBlockProps)(),children:(0,n.jsxs)("div",{className:"taxonomy-filter-preview",children:[(0,n.jsxs)("div",{className:"taxonomy-filter-preview__header",children:[(0,n.jsx)("h4",{children:(0,s.__)("Taxonomy Filter","wordpress-search")}),(0,n.jsx)("p",{className:"taxonomy-filter-preview__description",children:a?(0,s.__)("Selected: ","wordpress-search")+(()=>{if(!a)return(0,s.__)("No taxonomy selected","wordpress-search");const e=c.find((e=>e.value===a));return e?e.label:(0,s.__)("Unknown taxonomy","wordpress-search")})():(0,s.__)("Configure taxonomy in the block settings →","wordpress-search")})]}),a&&(0,n.jsx)("div",{className:"taxonomy-filter-preview__content",children:(0,n.jsx)("div",{className:"taxonomy-filter-preview__placeholder",children:(0,n.jsx)("p",{children:(0,s.__)("Filter options will appear here on the frontend","wordpress-search")})})})]})})]})}})})();