(()=>{"use strict";const e=window.wp.blocks,o=window.wp.i18n,t=window.wp.data,n=window.wp.components,s=window.wp.blockEditor,l=window.ReactJSXRuntime,a=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"wordpress-search/search-taxonomy-filter","version":"1.0.0","title":"Taxonomy Filter","category":"search","icon":"filter","description":"A modular search taxonomy filter block that connects to the search page template","attributes":{"selectedTaxonomy":{"type":"string","default":""}},"editorScript":"file:./index.js","editorStyle":"file:./index.css","viewStyle":"file:./view.css","viewScript":"file:./view.js","render":"file:./render.php","style":"file:./view.css","dependencies":["wp-api-fetch","wp-url","wp-components","wp-element","wp-i18n"]}');(0,e.registerBlockType)(a.name,{...a,edit:function({attributes:e,setAttributes:a}){const{selectedTaxonomy:i}=e,{taxonomies:r}=(0,t.useSelect)((e=>{const{getTaxonomies:o}=e("core"),t=o({per_page:-1,context:"view"})||[];return console.log("All taxonomies:",t),{taxonomies:t}}),[]),c=[{label:(0,o.__)("Select a taxonomy...","wordpress-search"),value:""},...(r||[]).filter((e=>e?(console.log("Processing taxonomy:",{name:e.name,slug:e.slug,types:e.types,labels:e.labels}),!0):(console.log("Found null/undefined taxonomy"),!1))).map((e=>{if(!e.types||!e.types[0])return console.log("Taxonomy missing types:",e),null;const t=e.labels?.singular_name||e.name||(0,o.__)("Unknown","wordpress-search"),n=`${e.types[0]}:${e.name}`;return console.log("Creating taxonomy option:",{taxonomyName:e.name,label:t,value:n}),{label:t.charAt(0).toUpperCase()+t.slice(1),value:n}})).filter(Boolean)];return console.log("Taxonomy options:",c),console.log("Current selected taxonomy:",i),(0,l.jsx)("div",{...(0,s.useBlockProps)(),children:(0,l.jsx)(n.SelectControl,{label:(0,o.__)("Select Taxonomy","wordpress-search"),value:i,options:c,onChange:e=>{console.log("Selected taxonomy value:",e),a({selectedTaxonomy:e})}})})}})})();