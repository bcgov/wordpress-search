(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".search-results-sort__field-select"),t=document.querySelectorAll(".search-results-sort__order-select");e.forEach((function(e){e.addEventListener("change",(function(){const e=this.dataset.currentUrl,t=this.value,o=this.closest(".wp-block-wordpress-search-searchresultssort"),s=o?o.dataset.nonce:"";sessionStorage.setItem("sortScrollPosition",window.scrollY);let n=e;if(t){let o=t;if(t.includes(":")){const e=t.split(":");o=e[e.length-1]}const r=e.includes("?")?"&":"?";n=e+r+o+"=desc",s&&(n+="&_wpnonce="+encodeURIComponent(s))}window.location.href=n}))})),t.forEach((function(e){e.addEventListener("change",(function(){const e=this.dataset.currentUrl,t=this.dataset.currentField,o=this.value,s=this.closest(".wp-block-wordpress-search-searchresultssort"),n=s?s.dataset.nonce:"";sessionStorage.setItem("sortScrollPosition",window.scrollY);let r=e;if(t&&o&&"off"!==o){let s=t;if(t.includes(":")){const e=t.split(":");s=e[e.length-1]}const c=e.includes("?")?"&":"?";r=e+c+s+"="+encodeURIComponent(o),n&&(r+="&_wpnonce="+encodeURIComponent(n))}window.location.href=r}))}))})),function(){"scrollRestoration"in history&&(history.scrollRestoration="manual");const e=sessionStorage.getItem("sortScrollPosition");e&&requestAnimationFrame((()=>{window.scrollTo(0,parseInt(e)),sessionStorage.removeItem("sortScrollPosition")}))}()})();